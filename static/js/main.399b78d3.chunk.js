(this.webpackJsonplist=this.webpackJsonplist||[]).push([[0],{24:function(e,t,a){},28:function(e,t,a){e.exports=a.p+"static/media/rainbow.2ec49e8c.jpg"},29:function(e,t,a){e.exports=a.p+"static/media/flowers.4572aa03.jpg"},30:function(e,t,a){e.exports=a.p+"static/media/peaches.b83a8467.jpg"},31:function(e,t,a){e.exports=a.p+"static/media/pastries.2d8327be.jpg"},32:function(e,t,a){e.exports=a.p+"static/media/waffles.9e4d40e7.jpg"},33:function(e,t,a){e.exports=a.p+"static/media/coffee.35d4d548.jpeg"},34:function(e,t,a){e.exports=a.p+"static/media/makeup.31518203.jpg"},35:function(e,t,a){e.exports=a.p+"static/media/hiking.7606a29b.jpg"},36:function(e,t,a){e.exports=a.p+"static/media/baloon.e509710d.jpeg"},37:function(e,t,a){e.exports=a.p+"static/media/ferriswheel.5269480d.jpg"},38:function(e,t,a){e.exports=a.p+"static/media/beach.240fbf5b.jpg"},41:function(e,t,a){e.exports=a(72)},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},69:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(16),i=a.n(s),o=(a(46),a(5)),c=a(6),l=a(8),u=a(7),h=a(9),m=a(28),d=a.n(m),p=a(13),g=a(14),b=a(3),f={search:function(e,t,a){return fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e,"&location=").concat(t,"&sort_by=").concat(a),{headers:{Authorization:"Bearer ".concat("X7kF378rDNoIOuIImg6BmZhQIzCv8uxYMQ4f721NMU2K2XRSX1gSOOGf85lY-1VufBz0H0JsJiPlOAZQ396Vnc9duDqxfkJowmwrINUoLWiGBlHqY1Z2JnDf4NlSXnYx")}}).then((function(e){return e.json()})).then((function(e){if(e.businesses)return e.businesses.map((function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,address:e.location.address1,city:e.location.city,state:e.location.state,zipCode:e.location.zip_code,category:e.categories[0].title,rating:e.rating,reviewCount:e.review_count,latitude:e.coordinates.latitude,longitude:e.coordinates.longitude,url:e.url,phone:e.display_phone,distance:e.distance,price:e.price,transactions:e.transactions}}))}))}},v=(a(47),a(48),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"Business"},r.a.createElement("div",{className:"image-container"},r.a.createElement("img",{src:this.props.business.imageSrc})),r.a.createElement("div",{className:"Business-information"},r.a.createElement("a",{href:this.props.business.url},r.a.createElement("h3",null,this.props.business.name.toUpperCase())),r.a.createElement("p",null,this.props.business.address,", ",this.props.business.city,", ","".concat(this.props.business.state," ").concat(this.props.business.zipCode)),r.a.createElement("p",null,"Rating: ",this.props.business.rating,"/5 Stars"),r.a.createElement("p",null,this.props.business.phone),r.a.createElement("p",null,this.props.business.price)))}}]),t}(r.a.Component)),E=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"results"},this.props.businesses.map((function(e){return r.a.createElement(v,{business:e,key:e.id})})))}}]),t}(r.a.Component),y=(a(49),a(24),a(19)),C=a(4),k={position:"absolute",width:"100%",height:"100%"},S=function(e){function t(e){var a;Object(o.a)(this,t);var n=(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).props.initialCenter,r=n.lat,s=n.lng;return a.state={currentLocation:{lat:r,lng:s}},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.google!==this.props.google&&this.loadMap(),t.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var e=this.map,t=this.state.currentLocation,a=this.props.google.maps;if(e){var n=new a.LatLng(t.lat,t.lng);e.panTo(n)}}},{key:"componentDidMount",value:function(){var e=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var a=t.coords;e.setState({currentLocation:{lat:a.latitude,lng:a.longitude}})})),this.loadMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var e=this.props.google.maps,t=this.refs.map,a=i.a.findDOMNode(t),n=this.props.zoom,r=this.state.currentLocation,s=r.lat,o=r.lng,c=new e.LatLng(s,o),l=Object.assign({},{center:c,zoom:n});this.map=new e.Map(a,l)}}},{key:"renderChildren",value:function(){var e=this,t=this.props.children;if(t)return r.a.Children.map(t,(function(t){if(t)return r.a.cloneElement(t,{map:e.map,google:e.props.google,mapCenter:e.state.currentLocation})}))}},{key:"render",value:function(){var e=Object.assign({},k);return r.a.createElement("div",null,r.a.createElement("div",{style:e,ref:"map"},"Loading map..."),this.renderChildren())}}]),t}(r.a.Component),O=S;S.defaultProps={zoom:14,initialCenter:{lat:-1.2884,lng:36.8233},centerAroundCurrentLocation:!1,visible:!0};var w={width:"100%",height:"100%"},j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.state={businesses:[],region:[],updateMap:!1,latitude:-1.2884,longitude:36.8233,term:"",location:"New York City",sortBy:"best_match",showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.searchYelp=a.searchYelp.bind(Object(b.a)(a)),a.handleTermChange=a.handleTermChange.bind(Object(b.a)(a)),a.handleLocationChange=a.handleLocationChange.bind(Object(b.a)(a)),a.handleSearch=a.handleSearch.bind(Object(b.a)(a)),a.handleSortByChange=a.handleSortByChange.bind(Object(b.a)(a)),a.onMarkerClick=a.onMarkerClick.bind(Object(b.a)(a)),a.sortByOptions={"Best Match":"best_match","Highest Rated":"rating","Most Reviewed":"review_count",Distance:"distance"},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"searchYelp",value:function(e,t,a){var n=this;f.search(e,t,a).then((function(e){n.setState({businesses:e,latitude:e[0].latitude,longitude:e[0].longitude})}))}},{key:"getSortByClass",value:function(e){return this.state.sortBy===e?"active":""}},{key:"handleSortByChange",value:function(e){this.setState({sortBy:e})}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"handleLocationChange",value:function(e){this.setState({location:e.target.value})}},{key:"handleSearch",value:function(e){this.searchYelp(this.state.term,this.state.location,this.state.sortBy),this.setState({updateMap:!0,latitude:this.state.latitude,longitude:this.state.longitude}),e.preventDefault()}},{key:"renderSortByOptions",value:function(){var e=this;return Object.keys(this.sortByOptions).map((function(t){var a=e.sortByOptions[t];return r.a.createElement("ul",null," ",r.a.createElement("button",{className:e.getSortByClass(a),key:a,onClick:e.handleSortByChange.bind(e,a)},t)," ")}))}},{key:"renderCenter",value:function(){var e=this;return r.a.createElement(C.Map,{google:this.props.google,zoom:14,style:w,center:{lat:this.state.latitude,lng:this.state.longitude}},this.state.businesses.map((function(t){return r.a.createElement(C.Marker,{key:t,onClick:e.onMarkerClick,name:t.name,position:{lat:t.latitude,lng:t.longitude}})})),r.a.createElement(C.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("a",null,this.state.selectedPlace.name))))}},{key:"render",value:function(){var e;return e=this.state.updateMap?r.a.createElement(C.Map,{google:this.props.google,zoom:14,style:w},this.renderCenter()):r.a.createElement(O,{google:this.props.google,centerAroundCurrentLocation:!0,style:w},r.a.createElement(C.Marker,{onClick:this.onMarkerClick,name:"current location"}),r.a.createElement(C.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("a",null,this.state.selectedPlace.name)))),r.a.createElement("div",{className:"businessSearch"},r.a.createElement(y.a,{split:"vertical",defaultSize:700},r.a.createElement("div",{className:"businessSearch-description"},r.a.createElement("h2",null,"SEARCH BY LOCATION"),r.a.createElement("div",{className:"SearchBar"},r.a.createElement("div",{className:"SearchBar-fields"},r.a.createElement("ul",null,r.a.createElement("input",{placeholder:"Search Businesses",onChange:this.handleTermChange}),r.a.createElement("p",null," "),r.a.createElement("input",{placeholder:"Where?",onChange:this.handleLocationChange}))),r.a.createElement("div",{className:"SearchBar-sort-options"},r.a.createElement("a",null,"Sort By:"),r.a.createElement("ul",null,this.renderSortByOptions())),r.a.createElement("div",{className:"SearchBar-submit"},r.a.createElement("button",{onClick:this.handleSearch},"Search"))),r.a.createElement(E,{businesses:this.state.businesses})),r.a.createElement("div",{className:"map"},e)))}}]),t}(n.Component),B=Object(C.GoogleApiWrapper)({apiKey:"AIzaSyCYyV1rEug5GYFReqiADFE2r4R1n7OBcwo"})(j),N={search:function(e,t,a,n){return fetch("https://cors-anywhere.herokuapp.com/https://api.yelp.com/v3/businesses/search?term=".concat(e,"&latitude=").concat(t,"&longitude=").concat(a,"&sort_by=").concat(n),{headers:{Authorization:"Bearer ".concat("X7kF378rDNoIOuIImg6BmZhQIzCv8uxYMQ4f721NMU2K2XRSX1gSOOGf85lY-1VufBz0H0JsJiPlOAZQ396Vnc9duDqxfkJowmwrINUoLWiGBlHqY1Z2JnDf4NlSXnYx")}}).then((function(e){return e.json()})).then((function(e){if(e.businesses)return e.businesses.map((function(e){return{id:e.id,imageSrc:e.image_url,name:e.name,address:e.location.address1,city:e.location.city,state:e.location.state,zipCode:e.location.zip_code,category:e.categories[0].title,rating:e.rating,reviewCount:e.review_count,latitude:e.coordinates.latitude,longitude:e.coordinates.longitude,url:e.url,phone:e.display_phone,distance:e.distance,price:e.price,transactions:e.transactions}}))}))}},M=(a(65),{width:"100%",height:"100%"}),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(e){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.state={businesses:[],region:[],updateMap:!1,latitude:-1.2884,longitude:36.8233,term:"",location:"New York City",sortBy:"best_match",showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a.searchYelp=a.searchYelp.bind(Object(b.a)(a)),a.handleTermChange=a.handleTermChange.bind(Object(b.a)(a)),a.handleSearch=a.handleSearch.bind(Object(b.a)(a)),a.handleSortByChange=a.handleSortByChange.bind(Object(b.a)(a)),a.onMarkerClick=a.onMarkerClick.bind(Object(b.a)(a)),a.getCoordinates=a.getCoordinates.bind(Object(b.a)(a)),a.sortByOptions={"Best Match":"best_match","Highest Rated":"rating","Most Reviewed":"review_count",Distance:"distance"},a}return Object(h.a)(t,e),Object(c.a)(t,[{key:"searchYelp",value:function(e,t,a,n){var r=this;N.search(e,t,a,n).then((function(e){r.setState({businesses:e})}))}},{key:"getSortByClass",value:function(e){return this.state.sortBy===e?"active":""}},{key:"handleSortByChange",value:function(e){this.setState({sortBy:e})}},{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"getCoordinates",value:function(e){this.setState({latitude:e.coords.latitude,longitude:e.coords.longitude}),this.searchYelp(this.state.term,this.state.latitude,this.state.longitude,this.state.sortBy)}},{key:"handleSearch",value:function(e){navigator.geolocation?navigator.geolocation.getCurrentPosition(this.getCoordinates):alert("Geolocation is not supported by this brower."),this.setState({updateMap:!0}),e.preventDefault()}},{key:"renderSortByOptions",value:function(){var e=this;return Object.keys(this.sortByOptions).map((function(t){var a=e.sortByOptions[t];return r.a.createElement("ul",null," ",r.a.createElement("button",{className:e.getSortByClass(a),key:a,onClick:e.handleSortByChange.bind(e,a)},t)," ")}))}},{key:"renderCenter",value:function(){var e=this;return r.a.createElement(C.Map,{google:this.props.google,zoom:14,style:M,center:{lat:this.state.latitude,lng:this.state.longitude}},this.state.businesses.map((function(t){return r.a.createElement(C.Marker,{key:t,onClick:e.onMarkerClick,name:t.name,position:{lat:t.latitude,lng:t.longitude}})})),r.a.createElement(C.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("a",null,this.state.selectedPlace.name))))}},{key:"render",value:function(){var e;return e=this.state.updateMap?r.a.createElement(C.Map,{google:this.props.google,zoom:14,style:M},this.renderCenter()):r.a.createElement(O,{google:this.props.google,centerAroundCurrentLocation:!0,style:M},r.a.createElement(C.Marker,{onClick:this.onMarkerClick,name:"current location"}),r.a.createElement(C.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},r.a.createElement("div",null,r.a.createElement("a",null,this.state.selectedPlace.name)))),r.a.createElement("div",{className:"searchnearme"},r.a.createElement(y.a,{split:"vertical",defaultSize:700},r.a.createElement("div",{className:"searchnearme-description"},r.a.createElement("h2",null,"PLACES NEAR ME"),r.a.createElement("div",{className:"SearchBar"},r.a.createElement("div",{className:"SearchBar-fields"},r.a.createElement("ul",null,r.a.createElement("input",{placeholder:"Search Businesses",onChange:this.handleTermChange}))),r.a.createElement("div",{className:"SearchBar-sort-options"},r.a.createElement("a",null,"Sort By:"),r.a.createElement("ul",null,this.renderSortByOptions())),r.a.createElement("div",{className:"SearchBar-submit"},r.a.createElement("button",{onClick:this.handleSearch},"Search"))),r.a.createElement(E,{businesses:this.state.businesses})),r.a.createElement("div",{className:"map"},e)))}}]),t}(n.Component),x=Object(C.GoogleApiWrapper)({apiKey:"AIzaSyCYyV1rEug5GYFReqiADFE2r4R1n7OBcwo"})(I),L=(a(66),a(29)),W=a.n(L),Y=a(30),z=a.n(Y),A=a(31),P=a.n(A),D=a(32),_=a.n(D),R=a(33),F=a.n(R),T=a(34),G=a.n(T),J=a(35),H=a.n(J),X=a(36),q=a.n(X),Q=a(37),U=a.n(Q),V=a(38),Z=a.n(V),K=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(g.a,{exact:!0,path:"/businessSearch",component:B}),r.a.createElement(g.a,{exact:!0,path:"/searchnearme",component:x}),r.a.createElement("div",{class:"home-overlay"}),r.a.createElement("div",{class:"home-description"},r.a.createElement("h1",null,"Discover Great Experiences"),r.a.createElement("p",null,"Choosing the right experience can be hard. We're here to help."),r.a.createElement("div",{className:"home-search-by"},r.a.createElement("div",{className:"search-by-business"},r.a.createElement("h2",null,"Flavors"),r.a.createElement("div",{className:"business-images"},r.a.createElement("img",{src:W.a,alt:"Flowers"}),r.a.createElement("img",{src:P.a,alt:"Pastries"}),r.a.createElement("img",{src:F.a,alt:"Coffee"}),r.a.createElement("img",{src:z.a,alt:"Fruit"}),r.a.createElement("img",{src:_.a,alt:"Waffles"}),r.a.createElement("img",{src:G.a,alt:"Makeup"}),r.a.createElement("img",{src:H.a,alt:"Hiking"}),r.a.createElement("img",{src:Z.a,alt:"Beach"}),r.a.createElement("img",{src:q.a,alt:"Balloon"}),r.a.createElement("img",{src:U.a,alt:"FerrisWheel"})),r.a.createElement("p",null,"Search by product, service, experience, and everything in between"),r.a.createElement("p1",null,"Explore by:"),r.a.createElement("div",{className:"search-container"},r.a.createElement(p.b,{to:"/businessSearch"},r.a.createElement("button",null,"Location")),r.a.createElement(p.b,{to:"/searchnearme"},r.a.createElement("button",null,"Near Me")))))))}}]),t}(n.Component),$=(a(69),function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(p.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("nav",{className:"navbar navbar-expand-md"},r.a.createElement("div",{className:"navigation-sub"},r.a.createElement(p.b,{to:"/",className:"item"},r.a.createElement("img",{src:d.a,className:"logo-image",alt:"Logo"})),r.a.createElement(p.b,{to:"/",className:"item"},"Home"),r.a.createElement(p.b,{to:"/businessSearch",className:"item"},"Location Search"),r.a.createElement(p.b,{to:"/searchnearme",className:"item"},"Places Near Me"))),r.a.createElement("div",{className:"main-container"},r.a.createElement(g.a,{exact:!0,path:"/businessSearch",component:B}),r.a.createElement(g.a,{exact:!0,path:"/searchnearme",component:x}),r.a.createElement(g.a,{exact:!0,path:"/",component:K}),r.a.createElement("footer",{className:"page-footer"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-12"},r.a.createElement("h6",{className:"text-uppercase font-weight-bold"},"Additional Information"),r.a.createElement("p",null,"This website was created with Yelp's Fusion API."),r.a.createElement("p",null,"For more information, please visit them at their website at Yelp.com")),r.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-12"},r.a.createElement("h6",{className:"text-uppercase font-weight-bold"},"Contact"),r.a.createElement("p",null,"rebecca.shu@duke.edu",r.a.createElement("br",null),"+1 (513) 602-0055"))),r.a.createElement("div",{className:"footer-copyright text-center"},"\xa9 2020 Copyright: MyWebsite.com"))))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(70),a(71);i.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[41,1,2]]]);
//# sourceMappingURL=main.399b78d3.chunk.js.map